import{g as B,r as s,V as q,c as S,o as v,w as n,a as l,Q as k,e as x,b as o,aB as c,f as m,a1 as Q,a2 as U,a3 as h,t as b,h as M,aW as N}from"./index-DEbtOr7C.js";import{Q as g}from"./QForm-BIWJhDDX.js";import{Q as A}from"./QMarkupTable-rH2VDkqn.js";import{Q as L}from"./QPage-BHsL5-dn.js";const D={class:"row"},F={class:"col-12 col-md-4"},I={class:"col-12 col-md-2 flex flex-center"},z={__name:"Producto",setup(E){const{proxy:i}=B(),p=s([]),V=s([]),f=s(""),r=s(!1),a=s({id:null,nombre:"",precio:"",stock:""});q(()=>{d()});function C(){p.value=V.value.filter(u=>u.nombre.toLowerCase().includes(f.value.toLowerCase()))}function d(){i.$axios.get("/productos").then(u=>{p.value=u.data,V.value=u.data})}function _(){a.value={id:null,nombre:"",precio:"",stock:""},r.value=!0}function y(u){a.value={...u},r.value=!0}function P(){a.value.id?i.$axios.put(`/productos/${a.value.id}`,a.value).then(d):i.$axios.post("/productos",a.value).then(d),r.value=!1}function $(u){i.$axios.delete(`/productos/${u}`).then(d)}return(u,t)=>(v(),S(L,{class:"q-pa-xs"},{default:n(()=>[l(k,{flat:"",bordered:""},{default:n(()=>[l(x,{class:"q-pa-xs"},{default:n(()=>[l(g,{onSubmit:d},{default:n(()=>[o("div",D,[o("div",F,[l(c,{modelValue:f.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>f.value=e),C],label:"Buscar producto",outlined:"",dense:""},null,8,["modelValue"])]),o("div",I,[l(m,{label:"Agregar",color:"primary",icon:"add","no-caps":"",onClick:_})])])]),_:1}),l(A,{"wrap-cells":"",dense:"",flat:"",bordered:""},{default:n(()=>[t[5]||(t[5]=o("thead",null,[o("tr",null,[o("th",null,"Nombre"),o("th",null,"Precio"),o("th",null,"Stock"),o("th",null,"Acciones")])],-1)),o("tbody",null,[(v(!0),Q(U,null,h(p.value,e=>(v(),Q("tr",{key:e.id},[o("td",null,b(e.nombre),1),o("td",null,b(e.precio),1),o("td",null,b(e.stock),1),o("td",null,[l(m,{icon:"edit",color:"blue",dense:"",onClick:w=>y(e)},null,8,["onClick"]),l(m,{icon:"delete",color:"red",dense:"",onClick:w=>$(e.id)},null,8,["onClick"])])]))),128))])]),_:1})]),_:1})]),_:1}),l(M,{modelValue:r.value,"onUpdate:modelValue":t[4]||(t[4]=e=>r.value=e)},{default:n(()=>[l(k,null,{default:n(()=>[l(x,null,{default:n(()=>[l(g,{onSubmit:N(P,["prevent"])},{default:n(()=>[l(c,{modelValue:a.value.nombre,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value.nombre=e),label:"Nombre",outlined:"",dense:"",required:""},null,8,["modelValue"]),l(c,{modelValue:a.value.precio,"onUpdate:modelValue":t[2]||(t[2]=e=>a.value.precio=e),label:"Precio",type:"number",outlined:"",dense:"",required:""},null,8,["modelValue"]),l(c,{modelValue:a.value.stock,"onUpdate:modelValue":t[3]||(t[3]=e=>a.value.stock=e),label:"Stock",type:"number",outlined:"",dense:"",required:""},null,8,["modelValue"]),l(m,{label:"Guardar",color:"primary",type:"submit",class:"q-mt-md"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};export{z as default};
