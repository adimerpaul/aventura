import{j as De,k as m,l as c,m as yt,g as Le,x as ql,d as Ee,C as Pl,r as Q,s as ne,U as we,a5 as xl,a6 as It,a7 as rl,a8 as sl,v as Ct,a9 as Rl,aa as Ol,ab as Kt,V as cl,ac as Ht,ad as dl,ae as Nt,af as fl,ag as vl,ah as Tl,ai as Al,aj as Wt,ak as Fl,al as at,am as Bl,G as Ot,J as Xe,an as zl,ao as Ml,H as Ye,ap as El,h as Mt,aq as Dl,L as ml,O as gl,ar as Ll,as as Il,at as Gt,au as Et,av as Xt,aw as Hl,ax as Nl,ay as Tt,az as nt,f as be,aA as $l,c as Je,o as Me,w as M,a as q,W as At,Z as ot,aB as St,Q as Yt,e as bt,b as Jt,t as Zt,a0 as Ql,a1 as jl,a2 as Ul,a3 as Kl,aC as Wl,aD as Gl}from"./index-DEbtOr7C.js";import{c as Dt,a as pe,b as rt,Q as st}from"./QList-3trESrqO.js";import{n as el,a as Xl,Q as Yl}from"./format-DmhjfEQx.js";import{Q as Sl}from"./QChip-CQY-KQ4p.js";import{Q as Jl}from"./QMarkupTable-rH2VDkqn.js";import{Q as tl}from"./QSpace-rOGDegqh.js";import{Q as Zl}from"./QForm-BIWJhDDX.js";import{Q as ea}from"./QPage-BHsL5-dn.js";import{C as Ft}from"./ClosePopup-DoJJOxg7.js";import"./moment-C5S46NFB.js";import{_ as ta}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./QBtnGroup-CsL8FtSP.js";const ll=De({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:l}){const n=Le(),f=m(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return c("td",{class:f.value},yt(l.default));const r=n.vnode.key,s=(e.props.colsMap!==void 0?e.props.colsMap[r]:null)||e.props.col;if(s===void 0)return;const{row:o}=e.props;return c("td",{class:f.value+s.__tdClass(o),style:s.__tdStyle(o)},yt(l.default))}}}),la=De({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:l,emit:n}){const f=Le(),{proxy:{$q:r}}=f,s=o=>{n("click",o)};return()=>{if(e.props===void 0)return c("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:s},yt(l.default));let o,d;const v=f.vnode.key;if(v){if(o=e.props.colsMap[v],o===void 0)return}else o=e.props.col;if(o.sortable===!0){const u=o.align==="right"?"unshift":"push";d=ql(l.default,[]),d[u](c(Ee,{class:o.__iconClass,name:r.iconSet.table.arrowUp}))}else d=yt(l.default);const w={class:o.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:o.headerStyle,onClick:u=>{o.sortable===!0&&e.props.sort(o),s(u)}};return c("th",w,d)}}});function bl(e,l){return c("div",e,[c("table",{class:"q-table"},l)])}let wt=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const l=document.createElement("div");Object.assign(l.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(l),e.scrollLeft=-1e3,wt=e.scrollLeft>=0,e.remove()}const he=1e3,aa=["start","center","end","start-force","center-force","end-force"],hl=Array.prototype.filter,na=window.getComputedStyle(document.body).overflowAnchor===void 0?Pl:function(e,l){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];hl.call(n,r=>r.dataset&&r.dataset.qVsAnchor!==void 0).forEach(r=>{delete r.dataset.qVsAnchor});const f=n[l];f&&f.dataset&&(f.dataset.qVsAnchor="")}))};function Ze(e,l){return e+l}function Bt(e,l,n,f,r,s,o,d){const v=e===window?document.scrollingElement||document.documentElement:e,w=r===!0?"offsetWidth":"offsetHeight",u={scrollStart:0,scrollViewSize:-o-d,scrollMaxSize:0,offsetStart:-o,offsetEnd:-d};if(r===!0?(e===window?(u.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,u.scrollViewSize+=document.documentElement.clientWidth):(u.scrollStart=v.scrollLeft,u.scrollViewSize+=v.clientWidth),u.scrollMaxSize=v.scrollWidth,s===!0&&(u.scrollStart=(wt===!0?u.scrollMaxSize-u.scrollViewSize:0)-u.scrollStart)):(e===window?(u.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,u.scrollViewSize+=document.documentElement.clientHeight):(u.scrollStart=v.scrollTop,u.scrollViewSize+=v.clientHeight),u.scrollMaxSize=v.scrollHeight),n!==null)for(let g=n.previousElementSibling;g!==null;g=g.previousElementSibling)g.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetStart+=g[w]);if(f!==null)for(let g=f.nextElementSibling;g!==null;g=g.nextElementSibling)g.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetEnd+=g[w]);if(l!==e){const g=v.getBoundingClientRect(),C=l.getBoundingClientRect();r===!0?(u.offsetStart+=C.left-g.left,u.offsetEnd-=C.width):(u.offsetStart+=C.top-g.top,u.offsetEnd-=C.height),e!==window&&(u.offsetStart+=u.scrollStart),u.offsetEnd+=u.scrollMaxSize-u.offsetStart}return u}function al(e,l,n,f){l==="end"&&(l=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(f===!0&&(l=(wt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):n===!0?(f===!0&&(l=(wt===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function ut(e,l,n,f){if(n>=f)return 0;const r=l.length,s=Math.floor(n/he),o=Math.floor((f-1)/he)+1;let d=e.slice(s,o).reduce(Ze,0);return n%he!==0&&(d-=l.slice(s*he,n).reduce(Ze,0)),f%he!==0&&f!==r&&(d-=l.slice(f,o*he).reduce(Ze,0)),d}const yl={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},wl=Object.keys(yl),Lt={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...yl};function Cl({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:n,virtualScrollItemSizeComputed:f}){const r=Le(),{props:s,emit:o,proxy:d}=r,{$q:v}=d;let w,u,g,C=[],_;const P=Q(0),x=Q(0),p=Q({}),U=Q(null),K=Q(null),E=Q(null),R=Q({from:0,to:0}),X=m(()=>s.tableColspan!==void 0?s.tableColspan:100);f===void 0&&(f=m(()=>s.virtualScrollItemSize));const H=m(()=>f.value+";"+s.virtualScrollHorizontal),ye=m(()=>H.value+";"+s.virtualScrollSliceRatioBefore+";"+s.virtualScrollSliceRatioAfter);ne(ye,()=>{oe()}),ne(H,se);function se(){Ce(u,!0)}function _e(i){Ce(i===void 0?u:i)}function Z(i,S){const A=l();if(A==null||A.nodeType===8)return;const D=Bt(A,n(),U.value,K.value,s.virtualScrollHorizontal,v.lang.rtl,s.virtualScrollStickySizeStart,s.virtualScrollStickySizeEnd);g!==D.scrollViewSize&&oe(D.scrollViewSize),te(A,D,Math.min(e.value-1,Math.max(0,parseInt(i,10)||0)),0,aa.indexOf(S)!==-1?S:u!==-1&&i>u?"end":"start")}function ce(){const i=l();if(i==null||i.nodeType===8)return;const S=Bt(i,n(),U.value,K.value,s.virtualScrollHorizontal,v.lang.rtl,s.virtualScrollStickySizeStart,s.virtualScrollStickySizeEnd),A=e.value-1,D=S.scrollMaxSize-S.offsetStart-S.offsetEnd-x.value;if(w===S.scrollStart)return;if(S.scrollMaxSize<=0){te(i,S,0,0);return}g!==S.scrollViewSize&&oe(S.scrollViewSize),ke(R.value.from);const W=Math.floor(S.scrollMaxSize-Math.max(S.scrollViewSize,S.offsetEnd)-Math.min(_[A],S.scrollViewSize/2));if(W>0&&Math.ceil(S.scrollStart)>=W){te(i,S,A,S.scrollMaxSize-S.offsetEnd-C.reduce(Ze,0));return}let z=0,O=S.scrollStart-S.offsetStart,N=O;if(O<=D&&O+S.scrollViewSize>=P.value)O-=P.value,z=R.value.from,N=O;else for(let T=0;O>=C[T]&&z<A;T++)O-=C[T],z+=he;for(;O>0&&z<A;)O-=_[z],O>-S.scrollViewSize?(z++,N=O):N=_[z]+O;te(i,S,z,N)}function te(i,S,A,D,W){const z=typeof W=="string"&&W.indexOf("-force")!==-1,O=z===!0?W.replace("-force",""):W,N=O!==void 0?O:"start";let T=Math.max(0,A-p.value[N]),Y=T+p.value.total;Y>e.value&&(Y=e.value,T=Math.max(0,Y-p.value.total)),w=S.scrollStart;const ue=T!==R.value.from||Y!==R.value.to;if(ue===!1&&O===void 0){Re(A);return}const{activeElement:He}=document,le=E.value;ue===!0&&le!==null&&le!==He&&le.contains(He)===!0&&(le.addEventListener("focusout",Ie),setTimeout(()=>{le!==null&&le.removeEventListener("focusout",Ie)})),na(le,A-T);const Ve=O!==void 0?_.slice(T,A).reduce(Ze,0):0;if(ue===!0){const fe=Y>=R.value.from&&T<=R.value.to?R.value.to:Y;R.value={from:T,to:fe},P.value=ut(C,_,0,T),x.value=ut(C,_,Y,e.value),requestAnimationFrame(()=>{R.value.to!==Y&&w===S.scrollStart&&(R.value={from:R.value.from,to:Y},x.value=ut(C,_,Y,e.value))})}requestAnimationFrame(()=>{if(w!==S.scrollStart)return;ue===!0&&ke(T);const fe=_.slice(T,A).reduce(Ze,0),ve=fe+S.offsetStart+P.value,qe=ve+_[A];let Te=ve+D;if(O!==void 0){const et=fe-Ve,Ae=S.scrollStart+et;Te=z!==!0&&Ae<ve&&qe<Ae+S.scrollViewSize?Ae:O==="end"?qe-S.scrollViewSize:ve-(O==="start"?0:Math.round((S.scrollViewSize-_[A])/2))}w=Te,al(i,Te,s.virtualScrollHorizontal,v.lang.rtl),Re(A)})}function ke(i){const S=E.value;if(S){const A=hl.call(S.children,T=>T.classList&&T.classList.contains("q-virtual-scroll--skip")===!1),D=A.length,W=s.virtualScrollHorizontal===!0?T=>T.getBoundingClientRect().width:T=>T.offsetHeight;let z=i,O,N;for(let T=0;T<D;){for(O=W(A[T]),T++;T<D&&A[T].classList.contains("q-virtual-scroll--with-prev")===!0;)O+=W(A[T]),T++;N=O-_[z],N!==0&&(_[z]+=N,C[Math.floor(z/he)]+=N),z++}}}function Ie(){E.value!==null&&E.value!==void 0&&E.value.focus()}function Ce(i,S){const A=1*f.value;(S===!0||Array.isArray(_)===!1)&&(_=[]);const D=_.length;_.length=e.value;for(let z=e.value-1;z>=D;z--)_[z]=A;const W=Math.floor((e.value-1)/he);C=[];for(let z=0;z<=W;z++){let O=0;const N=Math.min((z+1)*he,e.value);for(let T=z*he;T<N;T++)O+=_[T];C.push(O)}u=-1,w=void 0,P.value=ut(C,_,0,R.value.from),x.value=ut(C,_,R.value.to,e.value),i>=0?(ke(R.value.from),we(()=>{Z(i)})):de()}function oe(i){if(i===void 0&&typeof window<"u"){const O=l();O!=null&&O.nodeType!==8&&(i=Bt(O,n(),U.value,K.value,s.virtualScrollHorizontal,v.lang.rtl,s.virtualScrollStickySizeStart,s.virtualScrollStickySizeEnd).scrollViewSize)}g=i;const S=parseFloat(s.virtualScrollSliceRatioBefore)||0,A=parseFloat(s.virtualScrollSliceRatioAfter)||0,D=1+S+A,W=i===void 0||i<=0?1:Math.ceil(i/f.value),z=Math.max(1,W,Math.ceil((s.virtualScrollSliceSize>0?s.virtualScrollSliceSize:10)/D));p.value={total:Math.ceil(z*D),start:Math.ceil(z*S),center:Math.ceil(z*(.5+S)),end:Math.ceil(z*(1+S)),view:W}}function xe(i,S){const A=s.virtualScrollHorizontal===!0?"width":"height",D={["--q-virtual-scroll-item-"+A]:f.value+"px"};return[i==="tbody"?c(i,{class:"q-virtual-scroll__padding",key:"before",ref:U},[c("tr",[c("td",{style:{[A]:`${P.value}px`,...D},colspan:X.value})])]):c(i,{class:"q-virtual-scroll__padding",key:"before",ref:U,style:{[A]:`${P.value}px`,...D}}),c(i,{class:"q-virtual-scroll__content",key:"content",ref:E,tabindex:-1},S.flat()),i==="tbody"?c(i,{class:"q-virtual-scroll__padding",key:"after",ref:K},[c("tr",[c("td",{style:{[A]:`${x.value}px`,...D},colspan:X.value})])]):c(i,{class:"q-virtual-scroll__padding",key:"after",ref:K,style:{[A]:`${x.value}px`,...D}})]}function Re(i){u!==i&&(s.onVirtualScroll!==void 0&&o("virtualScroll",{index:i,from:R.value.from,to:R.value.to-1,direction:i<u?"decrease":"increase",ref:d}),u=i)}oe();const de=xl(ce,v.platform.is.ios===!0?120:35);It(()=>{oe()});let Oe=!1;return rl(()=>{Oe=!0}),sl(()=>{if(Oe!==!0)return;const i=l();w!==void 0&&i!==void 0&&i!==null&&i.nodeType!==8?al(i,w,s.virtualScrollHorizontal,v.lang.rtl):Z(u)}),Ct(()=>{de.cancel()}),Object.assign(d,{scrollTo:Z,reset:se,refresh:_e}),{virtualScrollSliceRange:R,virtualScrollSliceSizeComputed:p,setVirtualScrollSize:oe,onVirtualScrollEvt:de,localResetVirtualScroll:Ce,padVirtualScroll:xe,scrollTo:Z,reset:se,refresh:_e}}const oa={list:Dt,table:Jl},ua=["list","table","__qtable"],ia=De({name:"QVirtualScroll",props:{...Lt,type:{type:String,default:"list",validator:e=>ua.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:Rl},setup(e,{slots:l,attrs:n}){let f;const r=Q(null),s=m(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:o,localResetVirtualScroll:d,padVirtualScroll:v,onVirtualScrollEvt:w}=Cl({virtualScrollLength:s,getVirtualScrollTarget:P,getVirtualScrollEl:_}),u=m(()=>{if(s.value===0)return[];const K=(E,R)=>({index:o.value.from+R,item:E});return e.itemsFn===void 0?e.items.slice(o.value.from,o.value.to).map(K):e.itemsFn(o.value.from,o.value.to-o.value.from).map(K)}),g=m(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),C=m(()=>e.scrollTarget!==void 0?{}:{tabindex:0});ne(s,()=>{d()}),ne(()=>e.scrollTarget,()=>{p(),x()});function _(){return r.value.$el||r.value}function P(){return f}function x(){f=Ol(_(),e.scrollTarget),f.addEventListener("scroll",w,Kt.passive)}function p(){f!==void 0&&(f.removeEventListener("scroll",w,Kt.passive),f=void 0)}function U(){let K=v(e.type==="list"?"div":"tbody",u.value.map(l.default));return l.before!==void 0&&(K=l.before().concat(K)),Ht(l.after,K)}return It(()=>{d()}),cl(()=>{x()}),sl(()=>{x()}),rl(()=>{p()}),Ct(()=>{p()}),()=>{if(l.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?bl({ref:r,class:"q-table__middle "+g.value},U()):c(oa[e.type],{...n,ref:r,class:[n.class,g.value],...C.value},U)}}}),ra=De({name:"QField",inheritAttrs:!1,props:{...Nt,tag:{type:String,default:"label"}},emits:dl,setup(){return fl(vl({tagProp:!0}))}}),nl=e=>["add","add-unique","toggle"].includes(e),sa=".*+?^${}()|[]\\",ca=Object.keys(Nt);function zt(e,l){if(typeof e=="function")return e;const n=e!==void 0?e:l;return f=>f!==null&&typeof f=="object"&&n in f?f[n]:f}const pl=De({name:"QSelect",inheritAttrs:!1,props:{...Lt,...Tl,...Nt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:nl},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:Lt.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...dl,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:l,emit:n}){const{proxy:f}=Le(),{$q:r}=f,s=Q(!1),o=Q(!1),d=Q(-1),v=Q(""),w=Q(!1),u=Q(!1);let g=null,C=null,_,P,x,p=null,U,K,E,R;const X=Q(null),H=Q(null),ye=Q(null),se=Q(null),_e=Q(null),Z=Al(e),ce=Fl(a),te=m(()=>Array.isArray(e.options)?e.options.length:0),ke=m(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:Ie,virtualScrollSliceSizeComputed:Ce,localResetVirtualScroll:oe,padVirtualScroll:xe,onVirtualScrollEvt:Re,scrollTo:de,setVirtualScrollSize:Oe}=Cl({virtualScrollLength:te,getVirtualScrollTarget:kt,getVirtualScrollEl:mt,virtualScrollItemSizeComputed:ke}),i=vl(),S=m(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,h=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const y=e.mapOptions===!0&&_!==void 0?_:[],B=h.map(I=>_t(I,y));return e.modelValue===null&&t===!0?B.filter(I=>I!==null):B}return h}),A=m(()=>{const t={};return ca.forEach(h=>{const y=e[h];y!==void 0&&(t[h]=y)}),t}),D=m(()=>e.optionsDark===null?i.isDark.value:e.optionsDark),W=m(()=>Wt(S.value)),z=m(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||S.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),O=m(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),N=m(()=>te.value===0),T=m(()=>S.value.map(t=>ae.value(t)).join(", ")),Y=m(()=>e.displayValue!==void 0?e.displayValue:T.value),ue=m(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),He=m(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||S.value.some(ue.value))),le=m(()=>i.focused.value===!0?e.tabindex:-1),Ve=m(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":s.value===!0?"true":"false","aria-controls":`${i.targetUid.value}_lb`};return d.value>=0&&(t["aria-activedescendant"]=`${i.targetUid.value}_${d.value}`),t}),fe=m(()=>({id:`${i.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),ve=m(()=>S.value.map((t,h)=>({index:h,opt:t,html:ue.value(t),selected:!0,removeAtIndex:pt,toggleOption:me,tabindex:le.value}))),qe=m(()=>{if(te.value===0)return[];const{from:t,to:h}=Ie.value;return e.options.slice(t,h).map((y,B)=>{const I=Pe.value(y)===!0,L=$e(y)===!0,J=t+B,G={clickable:!0,active:L,activeClass:Ae.value,manualFocus:!0,focused:!1,disable:I,tabindex:-1,dense:e.optionsDense,dark:D.value,role:"option","aria-selected":L===!0?"true":"false",id:`${i.targetUid.value}_${J}`,onClick:()=>{me(y)}};return I!==!0&&(d.value===J&&(G.focused=!0),r.platform.is.desktop===!0&&(G.onMousemove=()=>{s.value===!0&&ie(J)})),{index:J,opt:y,html:ue.value(y),label:ae.value(y),selected:G.active,focused:G.focused,toggleOption:me,setOptionIndex:ie,itemProps:G}})}),Te=m(()=>e.dropdownIcon!==void 0?e.dropdownIcon:r.iconSet.arrow.dropdown),et=m(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Ae=m(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),re=m(()=>zt(e.optionValue,"value")),ae=m(()=>zt(e.optionLabel,"label")),Pe=m(()=>zt(e.optionDisable,"disable")),Fe=m(()=>S.value.map(re.value)),ct=m(()=>{const t={onInput:a,onChange:ce,onKeydown:Be,onKeyup:Qe,onKeypress:lt,onFocus:tt,onClick(h){P===!0&&Ye(h)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=ce,t});ne(S,t=>{_=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&i.innerLoading.value!==!0&&(o.value!==!0&&s.value!==!0||W.value!==!0)&&(x!==!0&&Ge(),(o.value===!0||s.value===!0)&&V(""))},{immediate:!0}),ne(()=>e.fillInput,Ge),ne(s,xt),ne(te,Vl);function dt(t){return e.emitValue===!0?re.value(t):t}function Ne(t){if(t!==-1&&t<S.value.length)if(e.multiple===!0){const h=e.modelValue.slice();n("remove",{index:t,value:h.splice(t,1)[0]}),n("update:modelValue",h)}else n("update:modelValue",null)}function pt(t){Ne(t),i.focus()}function ft(t,h){const y=dt(t);if(e.multiple!==!0){e.fillInput===!0&&k(ae.value(t),!0,!0),n("update:modelValue",y);return}if(S.value.length===0){n("add",{index:0,value:y}),n("update:modelValue",e.multiple===!0?[y]:y);return}if(h===!0&&$e(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const B=e.modelValue.slice();n("add",{index:B.length,value:y}),B.push(y),n("update:modelValue",B)}function me(t,h){if(i.editable.value!==!0||t===void 0||Pe.value(t)===!0)return;const y=re.value(t);if(e.multiple!==!0){h!==!0&&(k(e.fillInput===!0?ae.value(t):"",!0,!0),ze()),H.value!==null&&H.value.focus(),(S.value.length===0||at(re.value(S.value[0]),y)!==!0)&&n("update:modelValue",e.emitValue===!0?y:t);return}if((P!==!0||w.value===!0)&&i.focus(),tt(),S.value.length===0){const L=e.emitValue===!0?y:t;n("add",{index:0,value:L}),n("update:modelValue",e.multiple===!0?[L]:L);return}const B=e.modelValue.slice(),I=Fe.value.findIndex(L=>at(L,y));if(I!==-1)n("remove",{index:I,value:B.splice(I,1)[0]});else{if(e.maxValues!==void 0&&B.length>=e.maxValues)return;const L=e.emitValue===!0?y:t;n("add",{index:B.length,value:L}),B.push(L)}n("update:modelValue",B)}function ie(t){if(r.platform.is.desktop!==!0)return;const h=t!==-1&&t<te.value?t:-1;d.value!==h&&(d.value=h)}function ge(t=1,h){if(s.value===!0){let y=d.value;do y=el(y+t,-1,te.value-1);while(y!==-1&&y!==d.value&&Pe.value(e.options[y])===!0);d.value!==y&&(ie(y),de(y),h!==!0&&e.useInput===!0&&e.fillInput===!0&&b(y>=0?ae.value(e.options[y]):U,!0))}}function _t(t,h){const y=B=>at(re.value(B),t);return e.options.find(y)||h.find(y)||t}function $e(t){const h=re.value(t);return Fe.value.find(y=>at(y,h))!==void 0}function tt(t){e.useInput===!0&&H.value!==null&&(t===void 0||H.value===t.target&&t.target.value===T.value)&&H.value.select()}function vt(t){El(t,27)===!0&&s.value===!0&&(Ye(t),ze(),Ge()),n("keyup",t)}function Qe(t){const{value:h}=t.target;if(t.keyCode!==void 0){vt(t);return}if(t.target.value="",g!==null&&(clearTimeout(g),g=null),C!==null&&(clearTimeout(C),C=null),Ge(),typeof h=="string"&&h.length!==0){const y=h.toLocaleLowerCase(),B=L=>{const J=e.options.find(G=>String(L.value(G)).toLocaleLowerCase()===y);return J===void 0?!1:(S.value.indexOf(J)===-1?me(J):ze(),!0)},I=L=>{B(re)!==!0&&L!==!0&&B(ae)!==!0&&V(h,!0,()=>I(!0))};I()}else i.clearValue(t)}function lt(t){n("keypress",t)}function Be(t){if(n("keydown",t),Bl(t)===!0)return;const h=v.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),y=t.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(d.value!==-1||h===!0);if(t.keyCode===27){Ot(t);return}if(t.keyCode===9&&y===!1){Ke();return}if(t.target===void 0||t.target.id!==i.targetUid.value||i.editable.value!==!0)return;if(t.keyCode===40&&i.innerLoading.value!==!0&&s.value===!1){Xe(t),We();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&v.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Ne(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof v.value!="string"||v.value.length===0)&&(Xe(t),d.value=-1,ge(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&Ce.value!==void 0&&(Xe(t),d.value=Math.max(-1,Math.min(te.value,d.value+(t.keyCode===33?-1:1)*Ce.value.view)),ge(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(Xe(t),ge(t.keyCode===38?-1:1,e.multiple));const B=te.value;if((E===void 0||R<Date.now())&&(E=""),B>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||E.length!==0)){s.value!==!0&&We(t);const I=t.key.toLocaleLowerCase(),L=E.length===1&&E[0]===I;R=Date.now()+1500,L===!1&&(Xe(t),E+=I);const J=new RegExp("^"+E.split("").map(Rt=>sa.indexOf(Rt)!==-1?"\\"+Rt:Rt).join(".*"),"i");let G=d.value;if(L===!0||G<0||J.test(ae.value(e.options[G]))!==!0)do G=el(G+1,-1,B-1);while(G!==d.value&&(Pe.value(e.options[G])===!0||J.test(ae.value(e.options[G]))!==!0));d.value!==G&&we(()=>{ie(G),de(G),G>=0&&e.useInput===!0&&e.fillInput===!0&&b(ae.value(e.options[G]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||E!=="")&&(t.keyCode!==9||y===!1))){if(t.keyCode!==9&&Xe(t),d.value!==-1&&d.value<B){me(e.options[d.value]);return}if(h===!0){const I=(L,J)=>{if(J){if(nl(J)!==!0)return}else J=e.newValueMode;if(k("",e.multiple!==!0,!0),L==null)return;(J==="toggle"?me:ft)(L,J==="add-unique"),e.multiple!==!0&&(H.value!==null&&H.value.focus(),ze())};if(e.onNewValue!==void 0?n("newValue",v.value,I):I(v.value),e.multiple!==!0)return}s.value===!0?Ke():i.innerLoading.value!==!0&&We()}}function mt(){return P===!0?_e.value:ye.value!==null&&ye.value.contentEl!==null?ye.value.contentEl:void 0}function kt(){return mt()}function Vt(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?ve.value.map(t=>l["selected-item"](t)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?ve.value.map((t,h)=>c(Sl,{key:"option-"+h,removable:i.editable.value===!0&&Pe.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:le.value,onRemove(){t.removeAtIndex(h)}},()=>c("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:ae.value(t.opt)}))):[c("span",{[He.value===!0?"innerHTML":"textContent"]:Y.value})]}function gt(){if(N.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:v.value}):void 0;const t=l.option!==void 0?l.option:y=>c(st,{key:y.index,...y.itemProps},()=>c(pe,()=>c(rt,()=>c("span",{[y.html===!0?"innerHTML":"textContent"]:y.label}))));let h=xe("div",qe.value.map(t));return l["before-options"]!==void 0&&(h=l["before-options"]().concat(h)),Ht(l["after-options"],h)}function qt(t,h){const y=h===!0?{...Ve.value,...i.splitAttrs.attributes.value}:void 0,B={ref:h===!0?H:void 0,key:"i_t",class:z.value,style:e.inputStyle,value:v.value!==void 0?v.value:"",type:"search",...y,id:h===!0?i.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...ct.value};return t!==!0&&P===!0&&(Array.isArray(B.class)===!0?B.class=[...B.class,"no-pointer-events"]:B.class+=" no-pointer-events"),c("input",B)}function a(t){g!==null&&(clearTimeout(g),g=null),C!==null&&(clearTimeout(C),C=null),!(t&&t.target&&t.target.qComposing===!0)&&(b(t.target.value||""),x=!0,U=v.value,i.focused.value!==!0&&(P!==!0||w.value===!0)&&i.focus(),e.onFilter!==void 0&&(g=setTimeout(()=>{g=null,V(v.value)},e.inputDebounce)))}function b(t,h){v.value!==t&&(v.value=t,h===!0||e.inputDebounce===0||e.inputDebounce==="0"?n("inputValue",t):C=setTimeout(()=>{C=null,n("inputValue",t)},e.inputDebounce))}function k(t,h,y){x=y!==!0,e.useInput===!0&&(b(t,!0),(h===!0||y!==!0)&&(U=t),h!==!0&&V(t))}function V(t,h,y){if(e.onFilter===void 0||h!==!0&&i.focused.value!==!0)return;i.innerLoading.value===!0?n("filterAbort"):(i.innerLoading.value=!0,u.value=!0),t!==""&&e.multiple!==!0&&S.value.length!==0&&x!==!0&&t===ae.value(S.value[0])&&(t="");const B=setTimeout(()=>{s.value===!0&&(s.value=!1)},10);p!==null&&clearTimeout(p),p=B,n("filter",t,(I,L)=>{(h===!0||i.focused.value===!0)&&p===B&&(clearTimeout(p),typeof I=="function"&&I(),u.value=!1,we(()=>{i.innerLoading.value=!1,i.editable.value===!0&&(h===!0?s.value===!0&&ze():s.value===!0?xt(!0):s.value=!0),typeof L=="function"&&we(()=>{L(f)}),typeof y=="function"&&we(()=>{y(f)})}))},()=>{i.focused.value===!0&&p===B&&(clearTimeout(p),i.innerLoading.value=!1,u.value=!1),s.value===!0&&(s.value=!1)})}function F(){return c(Xl,{ref:ye,class:O.value,style:e.popupContentStyle,modelValue:s.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&N.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:D.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:et.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...fe.value,onScrollPassive:Re,onBeforeShow:Qt,onBeforeHide:j,onShow:$},gt)}function j(t){jt(t),Ke()}function $(){Oe()}function Se(t){Ye(t),H.value!==null&&H.value.focus(),w.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function ee(t){Ye(t),we(()=>{w.value=!1})}function je(){const t=[c(ra,{class:`col-auto ${i.fieldClass.value}`,...A.value,for:i.targetUid.value,dark:D.value,square:!0,loading:u.value,itemAligned:!1,filled:!0,stackLabel:v.value.length!==0,...i.splitAttrs.listeners.value,onFocus:Se,onBlur:ee},{...l,rawControl:()=>i.getControl(!0),before:void 0,after:void 0})];return s.value===!0&&t.push(c("div",{ref:_e,class:O.value+" scroll",style:e.popupContentStyle,...fe.value,onClick:Ot,onScrollPassive:Re},gt())),c(Mt,{ref:se,modelValue:o.value,position:e.useInput===!0?"top":void 0,transitionShow:K,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:Qt,onBeforeHide:Ue,onHide:Pt,onShow:kl},()=>c("div",{class:"q-select__dialog"+(D.value===!0?" q-select__dialog--dark q-dark":"")+(w.value===!0?" q-select__dialog--focused":"")},t))}function Ue(t){jt(t),se.value!==null&&se.value.__updateRefocusTarget(i.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),i.focused.value=!1}function Pt(t){ze(),i.focused.value===!1&&n("blur",t),Ge()}function kl(){const t=document.activeElement;(t===null||t.id!==i.targetUid.value)&&H.value!==null&&H.value!==t&&H.value.focus(),Oe()}function Ke(){o.value!==!0&&(d.value=-1,s.value===!0&&(s.value=!1),i.focused.value===!1&&(p!==null&&(clearTimeout(p),p=null),i.innerLoading.value===!0&&(n("filterAbort"),i.innerLoading.value=!1,u.value=!1)))}function We(t){i.editable.value===!0&&(P===!0?(i.onControlFocusin(t),o.value=!0,we(()=>{i.focus()})):i.focus(),e.onFilter!==void 0?V(v.value):(N.value!==!0||l["no-option"]!==void 0)&&(s.value=!0))}function ze(){o.value=!1,Ke()}function Ge(){e.useInput===!0&&k(e.multiple!==!0&&e.fillInput===!0&&S.value.length!==0&&ae.value(S.value[0])||"",!0,!0)}function xt(t){let h=-1;if(t===!0){if(S.value.length!==0){const y=re.value(S.value[0]);h=e.options.findIndex(B=>at(re.value(B),y))}oe(h)}ie(h)}function Vl(t,h){s.value===!0&&i.innerLoading.value===!1&&(oe(-1,!0),we(()=>{s.value===!0&&i.innerLoading.value===!1&&(t>h?oe():xt(!0))}))}function $t(){o.value===!1&&ye.value!==null&&ye.value.updatePosition()}function Qt(t){t!==void 0&&Ye(t),n("popupShow",t),i.hasPopupOpen=!0,i.onControlFocusin(t)}function jt(t){t!==void 0&&Ye(t),n("popupHide",t),i.hasPopupOpen=!1,i.onControlFocusout(t)}function Ut(){P=r.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||N.value===!1:!0),K=r.platform.is.ios===!0&&P===!0&&e.useInput===!0?"fade":e.transitionShow}return zl(Ut),Ml($t),Ut(),Ct(()=>{g!==null&&clearTimeout(g),C!==null&&clearTimeout(C)}),Object.assign(f,{showPopup:We,hidePopup:ze,removeAtIndex:Ne,add:ft,toggleOption:me,getOptionIndex:()=>d.value,setOptionIndex:ie,moveOptionSelection:ge,filter:V,updateMenuPosition:$t,updateInputValue:k,isOptionSelected:$e,getEmittingOptionValue:dt,isOptionDisabled:(...t)=>Pe.value.apply(null,t)===!0,getOptionValue:(...t)=>re.value.apply(null,t),getOptionLabel:(...t)=>ae.value.apply(null,t)}),Object.assign(i,{innerValue:S,fieldClass:m(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:X,targetRef:H,hasValue:W,showPopup:We,floatingLabel:m(()=>e.hideSelected!==!0&&W.value===!0||typeof v.value=="number"||v.value.length!==0||Wt(e.displayValue)),getControlChild:()=>{if(i.editable.value!==!1&&(o.value===!0||N.value!==!0||l["no-option"]!==void 0))return P===!0?je():F();i.hasPopupOpen===!0&&(i.hasPopupOpen=!1)},controlEvents:{onFocusin(t){i.onControlFocusin(t)},onFocusout(t){i.onControlFocusout(t,()=>{Ge(),Ke()})},onClick(t){if(Ot(t),P!==!0&&s.value===!0){Ke(),H.value!==null&&H.value.focus();return}We(t)}},getControl:t=>{const h=Vt(),y=t===!0||o.value!==!0||P!==!0;if(e.useInput===!0)h.push(qt(t,y));else if(i.editable.value===!0){const I=y===!0?Ve.value:void 0;h.push(c("input",{ref:y===!0?H:void 0,key:"d_t",class:"q-select__focus-target",id:y===!0?i.targetUid.value:void 0,value:Y.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...I,onKeydown:Be,onKeyup:vt,onKeypress:lt})),y===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&h.push(c("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Qe}))}if(Z.value!==void 0&&e.disable!==!0&&Fe.value.length!==0){const I=Fe.value.map(L=>c("option",{value:L,selected:!0}));h.push(c("select",{class:"hidden",name:Z.value,multiple:e.multiple},I))}const B=e.useInput===!0||y!==!0?void 0:i.splitAttrs.attributes.value;return c("div",{class:"q-field__native row items-center",...B,...i.splitAttrs.listeners.value},h)},getInnerAppend:()=>e.loading!==!0&&u.value!==!0&&e.hideDropdownIcon!==!0?[c(Ee,{class:"q-select__dropdown-icon"+(s.value===!0?" rotate-180":""),name:Te.value})]:null}),fl(i)}}),da={xs:2,sm:4,md:6,lg:10,xl:14};function ol(e,l,n){return{transform:l===!0?`translateX(${n.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}const fa=De({name:"QLinearProgress",props:{...ml,...Dl,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:l}){const{proxy:n}=Le(),f=gl(e,n.$q),r=Ll(e,da),s=m(()=>e.indeterminate===!0||e.query===!0),o=m(()=>e.reverse!==e.query),d=m(()=>({...r.value!==null?r.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),v=m(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),w=m(()=>ol(e.buffer!==void 0?e.buffer:1,o.value,n.$q)),u=m(()=>`with${e.instantFeedback===!0?"out":""}-transition`),g=m(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${u.value} q-linear-progress__track--${f.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),C=m(()=>ol(s.value===!0?1:e.value,o.value,n.$q)),_=m(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${u.value} q-linear-progress__model--${s.value===!0?"in":""}determinate`),P=m(()=>({width:`${e.value*100}%`})),x=m(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${u.value}`);return()=>{const p=[c("div",{class:g.value,style:w.value}),c("div",{class:_.value,style:C.value})];return e.stripe===!0&&s.value===!1&&p.push(c("div",{class:x.value,style:P.value})),c("div",{class:v.value,style:d.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},Ht(l.default,p))}}});let it=0;const va={fullscreen:Boolean,noRouteFullscreenExit:Boolean},ma=["update:fullscreen","fullscreen"];function ga(){const e=Le(),{props:l,emit:n,proxy:f}=e;let r,s,o;const d=Q(!1);Il(e)===!0&&ne(()=>f.$route.fullPath,()=>{l.noRouteFullscreenExit!==!0&&u()}),ne(()=>l.fullscreen,g=>{d.value!==g&&v()}),ne(d,g=>{n("update:fullscreen",g),n("fullscreen",g)});function v(){d.value===!0?u():w()}function w(){d.value!==!0&&(d.value=!0,o=f.$el.parentNode,o.replaceChild(s,f.$el),document.body.appendChild(f.$el),it++,it===1&&document.body.classList.add("q-body--fullscreen-mixin"),r={handler:u},Gt.add(r))}function u(){d.value===!0&&(r!==void 0&&(Gt.remove(r),r=void 0),o.replaceChild(f.$el,s),d.value=!1,it=Math.max(0,it-1),it===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),f.$el.scrollIntoView!==void 0&&setTimeout(()=>{f.$el.scrollIntoView()})))}return It(()=>{s=document.createElement("span")}),cl(()=>{l.fullscreen===!0&&w()}),Ct(u),Object.assign(f,{toggleFullscreen:v,setFullscreen:w,exitFullscreen:u}),{inFullscreen:d,toggleFullscreen:v}}function Sa(e,l){return new Date(e)-new Date(l)}const ba={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function ha(e,l,n,f){const r=m(()=>{const{sortBy:d}=l.value;return d&&n.value.find(v=>v.name===d)||null}),s=m(()=>e.sortMethod!==void 0?e.sortMethod:(d,v,w)=>{const u=n.value.find(_=>_.name===v);if(u===void 0||u.field===void 0)return d;const g=w===!0?-1:1,C=typeof u.field=="function"?_=>u.field(_):_=>_[u.field];return d.sort((_,P)=>{let x=C(_),p=C(P);return u.rawSort!==void 0?u.rawSort(x,p,_,P)*g:x==null?-1*g:p==null?1*g:u.sort!==void 0?u.sort(x,p,_,P)*g:Et(x)===!0&&Et(p)===!0?(x-p)*g:Xt(x)===!0&&Xt(p)===!0?Sa(x,p)*g:typeof x=="boolean"&&typeof p=="boolean"?(x-p)*g:([x,p]=[x,p].map(U=>(U+"").toLocaleString().toLowerCase()),x<p?-1*g:x===p?0:g)})});function o(d){let v=e.columnSortOrder;if(Hl(d)===!0)d.sortOrder&&(v=d.sortOrder),d=d.name;else{const g=n.value.find(C=>C.name===d);g!==void 0&&g.sortOrder&&(v=g.sortOrder)}let{sortBy:w,descending:u}=l.value;w!==d?(w=d,u=v==="da"):e.binaryStateSort===!0?u=!u:u===!0?v==="ad"?w=null:u=!1:v==="ad"?u=!0:w=null,f({sortBy:w,descending:u,page:1})}return{columnToSort:r,computedSortMethod:s,sort:o}}const ya={filter:[String,Object],filterMethod:Function};function wa(e,l){const n=m(()=>e.filterMethod!==void 0?e.filterMethod:(f,r,s,o)=>{const d=r?r.toLowerCase():"";return f.filter(v=>s.some(w=>{const u=o(w,v)+"";return(u==="undefined"||u==="null"?"":u.toLowerCase()).indexOf(d)!==-1}))});return ne(()=>e.filter,()=>{we(()=>{l({page:1},!0)})},{deep:!0}),{computedFilterMethod:n}}function Ca(e,l){for(const n in l)if(l[n]!==e[n])return!1;return!0}function ul(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const pa={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function _a(e,l){const{props:n,emit:f}=e,r=Q(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:n.rowsPerPageOptions.length!==0?n.rowsPerPageOptions[0]:5},n.pagination)),s=m(()=>{const u=n["onUpdate:pagination"]!==void 0?{...r.value,...n.pagination}:r.value;return ul(u)}),o=m(()=>s.value.rowsNumber!==void 0);function d(u){v({pagination:u,filter:n.filter})}function v(u={}){we(()=>{f("request",{pagination:u.pagination||s.value,filter:u.filter||n.filter,getCellValue:l})})}function w(u,g){const C=ul({...s.value,...u});if(Ca(s.value,C)===!0){o.value===!0&&g===!0&&d(C);return}if(o.value===!0){d(C);return}n.pagination!==void 0&&n["onUpdate:pagination"]!==void 0?f("update:pagination",C):r.value=C}return{innerPagination:r,computedPagination:s,isServerSide:o,requestServerInteraction:v,setPagination:w}}function ka(e,l,n,f,r,s){const{props:o,emit:d,proxy:{$q:v}}=e,w=m(()=>f.value===!0?n.value.rowsNumber||0:s.value),u=m(()=>{const{page:R,rowsPerPage:X}=n.value;return(R-1)*X}),g=m(()=>{const{page:R,rowsPerPage:X}=n.value;return R*X}),C=m(()=>n.value.page===1),_=m(()=>n.value.rowsPerPage===0?1:Math.max(1,Math.ceil(w.value/n.value.rowsPerPage))),P=m(()=>g.value===0?!0:n.value.page>=_.value),x=m(()=>(o.rowsPerPageOptions.includes(l.value.rowsPerPage)?o.rowsPerPageOptions:[l.value.rowsPerPage].concat(o.rowsPerPageOptions)).map(X=>({label:X===0?v.lang.table.allRows:""+X,value:X})));ne(_,(R,X)=>{if(R===X)return;const H=n.value.page;R&&!H?r({page:1}):R<H&&r({page:R})});function p(){r({page:1})}function U(){const{page:R}=n.value;R>1&&r({page:R-1})}function K(){const{page:R,rowsPerPage:X}=n.value;g.value>0&&R*X<w.value&&r({page:R+1})}function E(){r({page:_.value})}return o["onUpdate:pagination"]!==void 0&&d("update:pagination",{...n.value}),{firstRowIndex:u,lastRowIndex:g,isFirstPage:C,isLastPage:P,pagesNumber:_,computedRowsPerPageOptions:x,computedRowsNumber:w,firstPage:p,prevPage:U,nextPage:K,lastPage:E}}const Va={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},qa=["update:selected","selection"];function Pa(e,l,n,f){const r=m(()=>{const P={};return e.selected.map(f.value).forEach(x=>{P[x]=!0}),P}),s=m(()=>e.selection!=="none"),o=m(()=>e.selection==="single"),d=m(()=>e.selection==="multiple"),v=m(()=>n.value.length!==0&&n.value.every(P=>r.value[f.value(P)]===!0)),w=m(()=>v.value!==!0&&n.value.some(P=>r.value[f.value(P)]===!0)),u=m(()=>e.selected.length);function g(P){return r.value[P]===!0}function C(){l("update:selected",[])}function _(P,x,p,U){l("selection",{rows:x,added:p,keys:P,evt:U});const K=o.value===!0?p===!0?x:[]:p===!0?e.selected.concat(x):e.selected.filter(E=>P.includes(f.value(E))===!1);l("update:selected",K)}return{hasSelectionMode:s,singleSelection:o,multipleSelection:d,allRowsSelected:v,someRowsSelected:w,rowsSelectedNumber:u,isRowSelected:g,clearSelection:C,updateSelection:_}}function il(e){return Array.isArray(e)?e.slice():[]}const xa={expanded:Array},Ra=["update:expanded"];function Oa(e,l){const n=Q(il(e.expanded));ne(()=>e.expanded,o=>{n.value=il(o)});function f(o){return n.value.includes(o)}function r(o){e.expanded!==void 0?l("update:expanded",o):n.value=o}function s(o,d){const v=n.value.slice(),w=v.indexOf(o);d===!0?w===-1&&(v.push(o),r(v)):w!==-1&&(v.splice(w,1),r(v))}return{isRowExpanded:f,setExpanded:r,updateExpanded:s}}const Ta={visibleColumns:Array};function Aa(e,l,n){const f=m(()=>{if(e.columns!==void 0)return e.columns;const d=e.rows[0];return d!==void 0?Object.keys(d).map(v=>({name:v,label:v.toUpperCase(),field:v,align:Et(d[v])?"right":"left",sortable:!0})):[]}),r=m(()=>{const{sortBy:d,descending:v}=l.value;return(e.visibleColumns!==void 0?f.value.filter(u=>u.required===!0||e.visibleColumns.includes(u.name)===!0):f.value).map(u=>{const g=u.align||"right",C=`text-${g}`;return{...u,align:g,__iconClass:`q-table__sort-icon q-table__sort-icon--${g}`,__thClass:C+(u.headerClasses!==void 0?" "+u.headerClasses:"")+(u.sortable===!0?" sortable":"")+(u.name===d?` sorted ${v===!0?"sort-desc":""}`:""),__tdStyle:u.style!==void 0?typeof u.style!="function"?()=>u.style:u.style:()=>null,__tdClass:u.classes!==void 0?typeof u.classes!="function"?()=>C+" "+u.classes:_=>C+" "+u.classes(_):()=>C}})}),s=m(()=>{const d={};return r.value.forEach(v=>{d[v.name]=v}),d}),o=m(()=>e.tableColspan!==void 0?e.tableColspan:r.value.length+(n.value===!0?1:0));return{colList:f,computedCols:r,computedColsMap:s,computedColspan:o}}const ht="q-table__bottom row items-center",_l={};wl.forEach(e=>{_l[e]={}});const Fa=De({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},..._l,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...ml,...va,...Ta,...ya,...pa,...xa,...Va,...ba},emits:["request","virtualScroll",...ma,...Ra,...qa],setup(e,{slots:l,emit:n}){const f=Le(),{proxy:{$q:r}}=f,s=gl(e,r),{inFullscreen:o,toggleFullscreen:d}=ga(),v=m(()=>typeof e.rowKey=="function"?e.rowKey:a=>a[e.rowKey]),w=Q(null),u=Q(null),g=m(()=>e.grid!==!0&&e.virtualScroll===!0),C=m(()=>" q-table__card"+(s.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),_=m(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":C.value)+(s.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(o.value===!0?" fullscreen scroll":"")),P=m(()=>_.value+(e.loading===!0?" q-table--loading":""));ne(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+_.value,()=>{g.value===!0&&u.value!==null&&u.value.reset()});const{innerPagination:x,computedPagination:p,isServerSide:U,requestServerInteraction:K,setPagination:E}=_a(f,ie),{computedFilterMethod:R}=wa(e,E),{isRowExpanded:X,setExpanded:H,updateExpanded:ye}=Oa(e,n),se=m(()=>{let a=e.rows;if(U.value===!0||a.length===0)return a;const{sortBy:b,descending:k}=p.value;return e.filter&&(a=R.value(a,e.filter,i.value,ie)),D.value!==null&&(a=W.value(e.rows===a?a.slice():a,b,k)),a}),_e=m(()=>se.value.length),Z=m(()=>{let a=se.value;if(U.value===!0)return a;const{rowsPerPage:b}=p.value;return b!==0&&(O.value===0&&e.rows!==a?a.length>N.value&&(a=a.slice(0,N.value)):a=a.slice(O.value,N.value)),a}),{hasSelectionMode:ce,singleSelection:te,multipleSelection:ke,allRowsSelected:Ie,someRowsSelected:Ce,rowsSelectedNumber:oe,isRowSelected:xe,clearSelection:Re,updateSelection:de}=Pa(e,n,Z,v),{colList:Oe,computedCols:i,computedColsMap:S,computedColspan:A}=Aa(e,p,ce),{columnToSort:D,computedSortMethod:W,sort:z}=ha(e,p,Oe,E),{firstRowIndex:O,lastRowIndex:N,isFirstPage:T,isLastPage:Y,pagesNumber:ue,computedRowsPerPageOptions:He,computedRowsNumber:le,firstPage:Ve,prevPage:fe,nextPage:ve,lastPage:qe}=ka(f,x,p,U,E,_e),Te=m(()=>Z.value.length===0),et=m(()=>{const a={};return wl.forEach(b=>{a[b]=e[b]}),a.virtualScrollItemSize===void 0&&(a.virtualScrollItemSize=e.dense===!0?28:48),a});function Ae(){g.value===!0&&u.value.reset()}function re(){if(e.grid===!0)return qt();const a=e.hideHeader!==!0?tt:null;if(g.value===!0){const k=l["top-row"],V=l["bottom-row"],F={default:j=>ct(j.item,l.body,j.index)};if(k!==void 0){const j=c("tbody",k({cols:i.value}));F.before=a===null?()=>j:()=>[a()].concat(j)}else a!==null&&(F.before=a);return V!==void 0&&(F.after=()=>c("tbody",V({cols:i.value}))),c(ia,{ref:u,class:e.tableClass,style:e.tableStyle,...et.value,scrollTarget:e.virtualScrollTarget,items:Z.value,type:"__qtable",tableColspan:A.value,onVirtualScroll:Pe},F)}const b=[dt()];return a!==null&&b.unshift(a()),bl({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},b)}function ae(a,b){if(u.value!==null){u.value.scrollTo(a,b);return}a=parseInt(a,10);const k=w.value.querySelector(`tbody tr:nth-of-type(${a+1})`);if(k!==null){const V=w.value.querySelector(".q-table__middle.scroll"),F=k.offsetTop-e.virtualScrollStickySizeStart,j=F<V.scrollTop?"decrease":"increase";V.scrollTop=F,n("virtualScroll",{index:a,from:0,to:x.value.rowsPerPage-1,direction:j})}}function Pe(a){n("virtualScroll",a)}function Fe(){return[c(fa,{class:"q-table__linear-progress",color:e.color,dark:s.value,indeterminate:!0,trackColor:"transparent"})]}function ct(a,b,k){const V=v.value(a),F=xe(V);if(b!==void 0)return b(Ne({key:V,row:a,pageIndex:k,__trClass:F?"selected":""}));const j=l["body-cell"],$=i.value.map(ee=>{const je=l[`body-cell-${ee.name}`],Ue=je!==void 0?je:j;return Ue!==void 0?Ue(pt({key:V,row:a,pageIndex:k,col:ee})):c("td",{class:ee.__tdClass(a),style:ee.__tdStyle(a)},ie(ee,a))});if(ce.value===!0){const ee=l["body-selection"],je=ee!==void 0?ee(ft({key:V,row:a,pageIndex:k})):[c(Tt,{modelValue:F,color:e.color,dark:s.value,dense:e.dense,"onUpdate:modelValue":(Ue,Pt)=>{de([V],[a],Ue,Pt)}})];$.unshift(c("td",{class:"q-table--col-auto-width"},je))}const Se={key:V,class:{selected:F}};return e.onRowClick!==void 0&&(Se.class["cursor-pointer"]=!0,Se.onClick=ee=>{n("rowClick",ee,a,k)}),e.onRowDblclick!==void 0&&(Se.class["cursor-pointer"]=!0,Se.onDblclick=ee=>{n("rowDblclick",ee,a,k)}),e.onRowContextmenu!==void 0&&(Se.class["cursor-pointer"]=!0,Se.onContextmenu=ee=>{n("rowContextmenu",ee,a,k)}),c("tr",Se,$)}function dt(){const a=l.body,b=l["top-row"],k=l["bottom-row"];let V=Z.value.map((F,j)=>ct(F,a,j));return b!==void 0&&(V=b({cols:i.value}).concat(V)),k!==void 0&&(V=V.concat(k({cols:i.value}))),c("tbody",V)}function Ne(a){return me(a),a.cols=a.cols.map(b=>nt({...b},"value",()=>ie(b,a.row))),a}function pt(a){return me(a),nt(a,"value",()=>ie(a.col,a.row)),a}function ft(a){return me(a),a}function me(a){Object.assign(a,{cols:i.value,colsMap:S.value,sort:z,rowIndex:O.value+a.pageIndex,color:e.color,dark:s.value,dense:e.dense}),ce.value===!0&&nt(a,"selected",()=>xe(a.key),(b,k)=>{de([a.key],[a.row],b,k)}),nt(a,"expand",()=>X(a.key),b=>{ye(a.key,b)})}function ie(a,b){const k=typeof a.field=="function"?a.field(b):b[a.field];return a.format!==void 0?a.format(k,b):k}const ge=m(()=>({pagination:p.value,pagesNumber:ue.value,isFirstPage:T.value,isLastPage:Y.value,firstPage:Ve,prevPage:fe,nextPage:ve,lastPage:qe,inFullscreen:o.value,toggleFullscreen:d}));function _t(){const a=l.top,b=l["top-left"],k=l["top-right"],V=l["top-selection"],F=ce.value===!0&&V!==void 0&&oe.value>0,j="q-table__top relative-position row items-center";if(a!==void 0)return c("div",{class:j},[a(ge.value)]);let $;if(F===!0?$=V(ge.value).slice():($=[],b!==void 0?$.push(c("div",{class:"q-table__control"},[b(ge.value)])):e.title&&$.push(c("div",{class:"q-table__control"},[c("div",{class:["q-table__title",e.titleClass]},e.title)]))),k!==void 0&&($.push(c("div",{class:"q-table__separator col"})),$.push(c("div",{class:"q-table__control"},[k(ge.value)]))),$.length!==0)return c("div",{class:j},$)}const $e=m(()=>Ce.value===!0?null:Ie.value);function tt(){const a=vt();return e.loading===!0&&l.loading===void 0&&a.push(c("tr",{class:"q-table__progress"},[c("th",{class:"relative-position",colspan:A.value},Fe())])),c("thead",a)}function vt(){const a=l.header,b=l["header-cell"];if(a!==void 0)return a(Qe({header:!0})).slice();const k=i.value.map(V=>{const F=l[`header-cell-${V.name}`],j=F!==void 0?F:b,$=Qe({col:V});return j!==void 0?j($):c(la,{key:V.name,props:$},()=>V.label)});if(te.value===!0&&e.grid!==!0)k.unshift(c("th",{class:"q-table--col-auto-width"}," "));else if(ke.value===!0){const V=l["header-selection"],F=V!==void 0?V(Qe({})):[c(Tt,{color:e.color,modelValue:$e.value,dark:s.value,dense:e.dense,"onUpdate:modelValue":lt})];k.unshift(c("th",{class:"q-table--col-auto-width"},F))}return[c("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},k)]}function Qe(a){return Object.assign(a,{cols:i.value,sort:z,colsMap:S.value,color:e.color,dark:s.value,dense:e.dense}),ke.value===!0&&nt(a,"selected",()=>$e.value,lt),a}function lt(a){Ce.value===!0&&(a=!1),de(Z.value.map(v.value),Z.value,a)}const Be=m(()=>{const a=[e.iconFirstPage||r.iconSet.table.firstPage,e.iconPrevPage||r.iconSet.table.prevPage,e.iconNextPage||r.iconSet.table.nextPage,e.iconLastPage||r.iconSet.table.lastPage];return r.lang.rtl===!0?a.reverse():a});function mt(){if(e.hideBottom===!0)return;if(Te.value===!0){if(e.hideNoData===!0)return;const k=e.loading===!0?e.loadingLabel||r.lang.table.loading:e.filter?e.noResultsLabel||r.lang.table.noResults:e.noDataLabel||r.lang.table.noData,V=l["no-data"],F=V!==void 0?[V({message:k,icon:r.iconSet.table.warning,filter:e.filter})]:[c(Ee,{class:"q-table__bottom-nodata-icon",name:r.iconSet.table.warning}),k];return c("div",{class:ht+" q-table__bottom--nodata"},F)}const a=l.bottom;if(a!==void 0)return c("div",{class:ht},[a(ge.value)]);const b=e.hideSelectedBanner!==!0&&ce.value===!0&&oe.value>0?[c("div",{class:"q-table__control"},[c("div",[(e.selectedRowsLabel||r.lang.table.selectedRecords)(oe.value)])])]:[];if(e.hidePagination!==!0)return c("div",{class:ht+" justify-end"},Vt(b));if(b.length!==0)return c("div",{class:ht},b)}function kt(a){E({page:1,rowsPerPage:a.value})}function Vt(a){let b;const{rowsPerPage:k}=p.value,V=e.paginationLabel||r.lang.table.pagination,F=l.pagination,j=e.rowsPerPageOptions.length>1;if(a.push(c("div",{class:"q-table__separator col"})),j===!0&&a.push(c("div",{class:"q-table__control"},[c("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||r.lang.table.recordsPerPage]),c(pl,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:k,options:He.value,displayValue:k===0?r.lang.table.allRows:k,dark:s.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":kt})])),F!==void 0)b=F(ge.value);else if(b=[c("span",k!==0?{class:"q-table__bottom-item"}:{},[k?V(O.value+1,Math.min(N.value,le.value),le.value):V(1,_e.value,le.value)])],k!==0&&ue.value>1){const $={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&($.size="sm"),ue.value>2&&b.push(c(be,{key:"pgFirst",...$,icon:Be.value[0],disable:T.value,onClick:Ve})),b.push(c(be,{key:"pgPrev",...$,icon:Be.value[1],disable:T.value,onClick:fe}),c(be,{key:"pgNext",...$,icon:Be.value[2],disable:Y.value,onClick:ve})),ue.value>2&&b.push(c(be,{key:"pgLast",...$,icon:Be.value[3],disable:Y.value,onClick:qe}))}return a.push(c("div",{class:"q-table__control"},b)),a}function gt(){const a=e.gridHeader===!0?[c("table",{class:"q-table"},[tt()])]:e.loading===!0&&l.loading===void 0?Fe():void 0;return c("div",{class:"q-table__middle"},a)}function qt(){const a=l.item!==void 0?l.item:b=>{const k=b.cols.map(F=>c("div",{class:"q-table__grid-item-row"},[c("div",{class:"q-table__grid-item-title"},[F.label]),c("div",{class:"q-table__grid-item-value"},[F.value])]));if(ce.value===!0){const F=l["body-selection"],j=F!==void 0?F(b):[c(Tt,{modelValue:b.selected,color:e.color,dark:s.value,dense:e.dense,"onUpdate:modelValue":($,Se)=>{de([b.key],[b.row],$,Se)}})];k.unshift(c("div",{class:"q-table__grid-item-row"},j),c($l,{dark:s.value}))}const V={class:["q-table__grid-item-card"+C.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0||e.onRowContextmenu!==void 0)&&(V.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(V.onClick=F=>{n("RowClick",F,b.row,b.pageIndex)}),e.onRowDblclick!==void 0&&(V.onDblclick=F=>{n("RowDblclick",F,b.row,b.pageIndex)}),e.onRowContextmenu!==void 0&&(V.onContextmenu=F=>{n("rowContextmenu",F,b.row,b.pageIndex)})),c("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(b.selected===!0?" q-table__grid-item--selected":"")},[c("div",V,k)])};return c("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},Z.value.map((b,k)=>a(Ne({key:v.value(b),row:b,pageIndex:k}))))}return Object.assign(f.proxy,{requestServerInteraction:K,setPagination:E,firstPage:Ve,prevPage:fe,nextPage:ve,lastPage:qe,isRowSelected:xe,clearSelection:Re,isRowExpanded:X,setExpanded:H,sort:z,resetVirtualScroll:Ae,scrollTo:ae,getCellValue:ie}),Nl(f.proxy,{filteredSortedRows:()=>se.value,computedRows:()=>Z.value,computedRowsNumber:()=>le.value}),()=>{const a=[_t()],b={ref:w,class:P.value};return e.grid===!0?a.push(gt()):Object.assign(b,{class:[b.class,e.cardClass],style:e.cardStyle}),a.push(re(),mt()),e.loading===!0&&l.loading!==void 0&&a.push(l.loading()),c("div",b,a)}}}),Ba={name:"UsuariosPage",data(){return{users:[],user:{},userDialog:!1,loading:!1,actionPeriodo:"",gestiones:[],filter:"",roles:["Admin","Vendedor"],columns:[{name:"actions",label:"Acciones",align:"center"},{name:"name",label:"Nombre",align:"left",field:"name"},{name:"username",label:"Usuario",align:"left",field:"username"},{name:"role",label:"Rol",align:"left",field:"role"}],permissions:[],dialogPermisos:!1}},mounted(){this.usersGet()},methods:{permisosPost(){this.loading=!0;const e=this.permissions.filter(l=>l.checked).map(l=>l.id);this.$axios.post("permissions/"+this.user.id,{permissions:e}).then(l=>{this.dialogPermisos=!1,this.$alert.success("Permisos actualizados")}).catch(l=>{this.$alert.error(l.response.data.message)}).finally(()=>{this.loading=!1})},permissionsGet(){this.$axios.get("permissions").then(e=>{this.permissions=e.data}).catch(e=>{this.$alert.error(e.response.data.message)})},userNew(){this.user={name:"",email:"",password:"",area_id:1,username:"",cargo:"",role:"Vendedor"},this.actionPeriodo="Nuevo",this.userDialog=!0},usersGet(){this.loading=!0,this.$axios.get("users").then(e=>{this.users=e.data}).catch(e=>{this.$alert.error(e.response.data.message)}).finally(()=>{this.loading=!1})},gestionGet(){this.loading=!0,this.$axios.get("gestiones").then(e=>{this.gestiones=e.data,this.loading=!1}).catch(e=>{this.$alert.error(e.response.data.message),this.loading=!1})},userPost(){this.loading=!0,this.$axios.post("users",this.user).then(e=>{this.usersGet(),this.userDialog=!1,this.$alert.success("Periodo creado")}).catch(e=>{this.$alert.error(e.response.data.message)}).finally(()=>{this.loading=!1})},userPut(){this.loading=!0,this.$axios.put("users/"+this.user.id,this.user).then(e=>{this.usersGet(),this.userDialog=!1,this.$alert.success("Periodo actualizado")}).catch(e=>{this.$alert.error(e.response.data.message)}).finally(()=>{this.loading=!1})},permisosShow(e){this.dialogPermisos=!0,this.user={...e},this.permissions.forEach(l=>{l.checked=e.permissions.some(n=>n.id===l.id)})},userEditPassword(e){this.user={...e},this.$alert.dialogPrompt("Nueva contraseña","Ingrese la nueva contraseña","password").onOk(l=>{this.$axios.put("updatePassword/"+e.id,{password:l}).then(n=>{this.usersGet(),this.$alert.success("Contraseña actualizada")}).catch(n=>{this.$alert.error(n.response.data.message)})})},userEdit(e){this.user={...e},this.actionPeriodo="Editar",this.userDialog=!0},userDelete(e){this.$alert.dialog("¿Desea eliminar el user?").onOk(()=>{this.loading=!0,this.$axios.delete("users/"+e).then(l=>{this.usersGet(),this.$alert.success("Periodo eliminado")}).catch(l=>{this.$alert.error(l.response.data.message)}).finally(()=>{this.loading=!1})})}}},za={class:"text-right"};function Ma(e,l,n,f,r,s){return Me(),Je(ea,{class:"q-pa-md"},{default:M(()=>[q(Fa,{rows:r.users,columns:r.columns,dense:"","wrap-cells":"",flat:"",bordered:"","rows-per-page-options":[0],title:"Usuarios",filter:r.filter},{"top-right":M(()=>[q(be,{color:"positive",label:"Nuevo",onClick:s.userNew,"no-caps":"",icon:"add_circle_outline",loading:r.loading},null,8,["onClick","loading"]),q(St,{modelValue:r.filter,"onUpdate:modelValue":l[0]||(l[0]=o=>r.filter=o),label:"Buscar",dense:"",outlined:""},{append:M(()=>[q(Ee,{name:"search"})]),_:1},8,["modelValue"])]),"body-cell-actions":M(o=>[q(ll,{props:o},{default:M(()=>[q(Yl,{label:"Opciones","no-caps":"",size:"10px",dense:"",color:"primary"},{default:M(()=>[q(Dt,null,{default:M(()=>[At((Me(),Je(st,{clickable:"",onClick:d=>s.userEdit(o.row)},{default:M(()=>[q(pe,{avatar:""},{default:M(()=>[q(Ee,{name:"edit"})]),_:1}),q(pe,null,{default:M(()=>[q(rt,null,{default:M(()=>l[12]||(l[12]=[ot("Editar")])),_:1})]),_:1})]),_:2},1032,["onClick"])),[[Ft]]),At((Me(),Je(st,{clickable:"",onClick:d=>s.userDelete(o.row.id)},{default:M(()=>[q(pe,{avatar:""},{default:M(()=>[q(Ee,{name:"delete"})]),_:1}),q(pe,null,{default:M(()=>[q(rt,null,{default:M(()=>l[13]||(l[13]=[ot("Eliminar")])),_:1})]),_:1})]),_:2},1032,["onClick"])),[[Ft]]),At((Me(),Je(st,{clickable:"",onClick:d=>s.userEditPassword(o.row)},{default:M(()=>[q(pe,{avatar:""},{default:M(()=>[q(Ee,{name:"edit"})]),_:1}),q(pe,null,{default:M(()=>[q(rt,null,{default:M(()=>l[14]||(l[14]=[ot("Cambiar contraseña")])),_:1})]),_:1})]),_:2},1032,["onClick"])),[[Ft]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-role":M(o=>[q(ll,{props:o},{default:M(()=>[q(Sl,{label:o.row.role,color:o.row.color,"text-color":"white",dense:"",size:"14px"},null,8,["label","color"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","filter"]),q(Mt,{modelValue:r.userDialog,"onUpdate:modelValue":l[8]||(l[8]=o=>r.userDialog=o),persistent:""},{default:M(()=>[q(Yt,null,{default:M(()=>[q(bt,{class:"q-pb-none row items-center"},{default:M(()=>[Jt("div",null,Zt(r.actionPeriodo)+" user ",1),q(tl),q(be,{icon:"close",flat:"",round:"",dense:"",onClick:l[1]||(l[1]=o=>r.userDialog=!1)})]),_:1}),q(bt,{class:"q-pt-none"},{default:M(()=>[q(Zl,{onSubmit:l[7]||(l[7]=o=>r.user.id?s.userPut():s.userPost())},{default:M(()=>[q(St,{modelValue:r.user.name,"onUpdate:modelValue":l[2]||(l[2]=o=>r.user.name=o),label:"Nombre",dense:"",outlined:"",rules:[o=>!!o||"Campo requerido"]},null,8,["modelValue","rules"]),q(St,{modelValue:r.user.username,"onUpdate:modelValue":l[3]||(l[3]=o=>r.user.username=o),label:"Usuario",dense:"",outlined:"",rules:[o=>!!o||"Campo requerido"]},null,8,["modelValue","rules"]),r.user.id?Ql("",!0):(Me(),Je(St,{key:0,modelValue:r.user.password,"onUpdate:modelValue":l[4]||(l[4]=o=>r.user.password=o),label:"Contraseña",dense:"",outlined:"",rules:[o=>!!o||"Campo requerido"]},null,8,["modelValue","rules"])),q(pl,{modelValue:r.user.role,"onUpdate:modelValue":l[5]||(l[5]=o=>r.user.role=o),label:"Rol",dense:"",outlined:"",options:r.roles,rules:[o=>!!o||"Campo requerido"]},null,8,["modelValue","options","rules"]),Jt("div",za,[q(be,{color:"negative",label:"Cancelar",onClick:l[6]||(l[6]=o=>r.userDialog=!1),"no-caps":"",loading:r.loading},null,8,["loading"]),q(be,{color:"primary",label:"Guardar",type:"submit","no-caps":"",loading:r.loading,class:"q-ml-sm"},null,8,["loading"])])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),q(Mt,{modelValue:r.dialogPermisos,"onUpdate:modelValue":l[11]||(l[11]=o=>r.dialogPermisos=o),persistent:""},{default:M(()=>[q(Yt,null,{default:M(()=>[q(bt,{class:"q-pb-none row items-center text-bold"},{default:M(()=>[l[15]||(l[15]=ot(" Permisos ")),q(tl),q(be,{icon:"close",flat:"",round:"",dense:"",onClick:l[9]||(l[9]=o=>r.dialogPermisos=!1)})]),_:1}),q(bt,{class:"q-pt-none"},{default:M(()=>[q(Dt,null,{default:M(()=>[(Me(!0),jl(Ul,null,Kl(r.permissions,o=>(Me(),Je(st,{key:o.id},{default:M(()=>[q(pe,null,{default:M(()=>[q(rt,null,{default:M(()=>[ot(Zt(o.name),1)]),_:2},1024)]),_:2},1024),q(pe,{side:""},{default:M(()=>[q(Wl,{modelValue:o.checked,"onUpdate:modelValue":d=>o.checked=d},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),q(Gl,{align:"right"},{default:M(()=>[q(be,{color:"negative",label:"Cancelar",onClick:l[10]||(l[10]=o=>r.dialogPermisos=!1),"no-caps":"",loading:r.loading},null,8,["loading"]),q(be,{color:"primary",label:"Guardar",onClick:s.permisosPost,"no-caps":"",loading:r.loading},null,8,["onClick","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const Ga=ta(Ba,[["render",Ma]]);export{Ga as default};
